<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<canvas width='500' height="150" id='canvas'></canvas>

</body>
<script type="text/javascript">
	var c = document.getElementById('canvas');
	var ctx=c.getContext("2d");
	ctx.fillStyle="#0000ff";
	ctx.fillRect(0,0,500,150);
	var url = c.toDataURL('image/png')
	var a = document.createElement('a')
    // 创建一个单击事件
    var event = new MouseEvent('click')
    
    // 将a的download属性设置为我们想要下载的图片名称，若name不存在则使用‘下载图片名称’作为默认名称
    a.download = name || '下载图片名称'
    // 将生成的URL设置为a.href属性
    a.href = url
    
    // 触发a的单击事件
    a.dispatchEvent(event)
</script>
</html>